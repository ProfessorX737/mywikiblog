(this.webpackJsonpxavierunderstands=this.webpackJsonpxavierunderstands||[]).push([[0],{116:function(e,t,n){},175:function(e,t,n){e.exports=n(649)},205:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},628:function(e,t,n){},629:function(e,t,n){},630:function(e,t,n){},646:function(e,t,n){},647:function(e,t,n){},648:function(e,t,n){},649:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(9),o=n.n(i),c=n(17),l=n(23),s=n(45),u=n(5),d=n(18),p=n(7),h=n.n(p),f=n(697);function v(e){var t={};return{obj:t,lastObj:e.reduce((function(e,t){var n={};return e[t]=n,n}),t)}}function b(e){var t=e.path,n=e.update;if(0===t.length)return n;var r=Object(l.a)(t),a=r.pop(),i=v(r),o=i.obj;return i.lastObj[a]=n,o}function w(e){var t=e.treeData,n=e.path,r=Object(l.a)(n),a=r.pop(),i=v(r),o=i.obj;return i.lastObj.$splice=[[a,1]],h()(t,o)}var m={viewTree:{id:"1",currTabId:0,tabs:[],tabsView:{},children:[]},cells:{},showScaffolding:!1},g=function e(t,n){for(var r=0;r<t.tabs.length;r++)if(t.tabs[r].id===n){t.tabs.splice(r,1);break}for(var a=0;a<t.children.length;a++)e(t.children[a],n)},y=function e(t){1===t.children.length&&(t=t.children[0]);for(var n=0;n<t.children.length;n++)t.children[n]=e(t.children[n]);return t},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{vid:e,isEditing:t,isExpanded:n}},x=function(e){var t,n=e.view,r=e.cellVid,a=e.attrKey,i={},o=null===(t=n.tabsView[n.currTabId])||void 0===t?void 0:t[r];return i=o?Object(d.a)({},r,Object(u.a)(Object(u.a)({},o),{},Object(d.a)({},a,!o[a]))):Object(d.a)({},r,Object(u.a)(Object(u.a)({},C(r)),{},Object(d.a)({},a,!0))),E({view:n,cellViews:i})},E=function(e){var t=e.view,n=e.cellViews,r={tabsView:{}};return t.tabsView[t.currTabId]?r.tabsView=Object(d.a)({},t.currTabId,{$merge:n}):r.tabsView={$merge:Object(d.a)({},t.currTabId,n)},r},I={email:"xavierpoon737@gmail.com",loggedIn:!1},O=Object(s.c)({view:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INSERT_NEW_CHILD_CELL_EXPAND":var n,r=t.payload,a=r.view,i=r.viewPath,o=r.parentId,c=r.parentVid,l=r.newId,s=r.insertIndex,p=void 0===s?0:s,v=r.childCells,I="".concat(l,"_1"),O=Object(d.a)({},I,C(I,!0)),T=null===(n=a.tabsView[a.currTabId])||void 0===n?void 0:n[c];O[c]=T?Object(u.a)(Object(u.a)({},T),{},{isExpanded:!0}):Object(u.a)(Object(u.a)({},C(c)),{},{isExpanded:!0});var j={cells:{$merge:h()(v,Object(d.a)({},o,{children:{$splice:[[p,0,{id:l}]]}}))},viewTree:b({treeData:e.viewTree,path:i,update:E({view:a,cellViews:O})})};return h()(e,j);case"INSERT_CELLS":var k=t.payload.cells;return h()(e,{cells:{$merge:k}});case"SET_CELL_CONTENT":var P=t.payload,_=P.cellId,S=P.content;return h()(e,{cells:Object(d.a)({},_,{content:{$set:S}})});case"TOGGLE_CELL_EXPAND":var L=t.payload,D=L.view,N=L.viewPath,V=L.cellVid,R={viewTree:b({treeData:e.viewTree,path:N,update:x({view:D,cellVid:V,attrKey:"isExpanded"})})};return h()(e,R);case"TOGGLE_CELL_EDIT":var A=t.payload,M=A.view,H=A.viewPath,B=A.cellVid,F={viewTree:b({treeData:e.viewTree,path:H,update:x({view:M,cellVid:B,attrKey:"isEditing"})})};return h()(e,F);case"ADD_TAB":var G=t.payload,$=G.viewPath,J=G.tabId,W={viewTree:b({treeData:e.viewTree,path:$,update:{tabs:{$push:[{id:J}]},currTabId:{$set:J}}})};return h()(e,W);case"CLOSE_TAB":var K=t.payload,z=K.view,U=K.viewPath,X=K.tabId,q=K.tabIndex,Q=z.currTabId===X,Y=z.currTabId;if(Q){var Z,ee=q===z.tabs.length-1?-1:1;Y=(null===(Z=z.tabs[q+ee])||void 0===Z?void 0:Z.id)||0}var te={viewTree:b({treeData:e.viewTree,path:U,update:{tabs:{$splice:[[q,1]]},currTabId:{$set:Y}}})};return h()(e,te);case"SPLIT_VIEW":var ne=t.payload,re=ne.view,ae=ne.viewPath,ie=ne.direction,oe={id:re.id,flexFlow:ie,tabs:[],tabsView:{},children:[Object(u.a)(Object(u.a)({},h()(re,{})),{},{id:Object(f.a)()}),Object(u.a)(Object(u.a)({},m.viewTree),{},{id:Object(f.a)()})]},ce={viewTree:b({treeData:e.viewTree,path:ae,update:{$set:oe}})};return h()(e,ce);case"CHANGE_TAB":var le=t.payload,se=le.viewPath,ue=le.tabId,de={viewTree:b({treeData:e.viewTree,path:se,update:{currTabId:{$set:ue}}})};return h()(e,de);case"SET_TABS":var pe=t.payload,he=pe.viewPath,fe=pe.newTabs,ve={viewTree:b({treeData:e.viewTree,path:he,update:{tabs:{$set:fe}}})};return h()(e,ve);case"SET_CELL_CHILDREN":var be=t.payload,we=be.parentId,me=be.newChildren,ge={cells:Object(d.a)({},we,{children:{$set:me}})};return h()(e,ge);case"SET_STORE":var ye=t.payload.store,Ce={$set:ye};return h()(e,Ce);case"SET_TAB_VIEW":var xe=t.payload,Ee=xe.viewPath,Ie=xe.tabView,Oe={viewTree:b({treeData:e.viewTree,path:Ee,update:{tabsView:{$merge:Ie}}})};return h()(e,Oe);case"DELETE_VIEW":var Te=t.payload.viewPath,je=w({treeData:e.viewTree,path:Te});return je=y(je),Object(u.a)(Object(u.a)({},e),{},{viewTree:je});case"INSERT_CHILD_CELLS_TOGGLE_EXPAND":var ke=t.payload,Pe=ke.view,_e=ke.viewPath,Se=ke.cellVid,Le=ke.newCells,De={cells:{$merge:Le},viewTree:b({treeData:e.viewTree,path:_e,update:x({view:Pe,cellVid:Se,attrKey:"isExpanded"})})};return h()(e,De);case"PATCH_CONTENT_TOGGLE_EDIT":var Ne=t.payload,Ve=Ne.view,Re=Ne.viewPath,Ae=Ne.cellVid,Me=Ne.cellId,He=Ne.content,Be={cells:Object(d.a)({},Me,{content:{$set:He}}),viewTree:b({treeData:e.viewTree,path:Re,update:x({view:Ve,cellVid:Ae,attrKey:"isEditing"})})};return h()(e,Be);case"DELETE_CHILD":var Fe=t.payload,Ge=Fe.parentId,$e=Fe.childIndex,Je=e.cells[Ge].children[$e].id,We=h()(e.viewTree,{});g(We,Je);var Ke={cells:Object(d.a)({},Ge,{children:{$splice:[[$e,1]]}}),viewTree:{$set:We}};return h()(e,Ke);case"MOVE_CHILD_CELL":var ze=t.payload,Ue=ze.toParentId,Xe=ze.fromParentId,qe=ze.fromIndex,Qe=ze.toIndex,Ye=e.cells[Xe].children[qe].id,Ze={cells:Object(d.a)({},Xe,{children:{$splice:[[qe,1]]}})},et={cells:Object(d.a)({},Ue,{children:{$splice:[[Qe,0,{id:Ye}]]}})};return h()(h()(e,Ze),et);case"SHOW_SCAFFOLDING":var tt=t.payload.show;return h()(e,{showScaffolding:{$set:tt}});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":var n=t.payload.email;return h()(e,{email:{$set:n||e.email},loggedIn:{$set:!0}});case"LOGOUT":return h()(e,{loggedIn:{$set:!1}});default:return e}}}),T=n(15),j=n.n(T),k=n(27);function P(e){e.view,e.viewPath,e.parentId,e.parentVid,e.newId,e.insertIndex,e.childCells;return{type:"INSERT_NEW_CHILD_CELL_EXPAND",payload:arguments[0]}}function _(e){e.cells;return{type:"INSERT_CELLS",payload:arguments[0]}}function S(e){e.view,e.viewPath,e.cellVid;return{type:"TOGGLE_CELL_EXPAND",payload:arguments[0]}}function L(e){e.view,e.viewPath,e.cellVid;return{type:"TOGGLE_CELL_EDIT",payload:arguments[0]}}function D(e){e.view,e.viewPath,e.direction;return{type:"SPLIT_VIEW",payload:arguments[0]}}function N(e){e.store;return{type:"SET_STORE",payload:arguments[0]}}function V(e){e.view,e.viewPath,e.cellId,e.cellVid,e.isExpanded;return{type:"FETCH_CHILD_CELLS_TOGGLE_EXPAND",payload:arguments[0]}}function R(e){e.view,e.viewPath,e.cellVid,e.newCells;return{type:"INSERT_CHILD_CELLS_TOGGLE_EXPAND",payload:arguments[0]}}function A(e){e.view,e.viewPath,e.cellVid,e.cellId;return{type:"PATCH_CONTENT_TOGGLE_EDIT",payload:arguments[0]}}function M(e){e.parentId,e.childIndex,e.focusNextCell;return{type:"DELETE_CHILD",payload:arguments[0]}}function H(e){e.toParentId,e.fromParentId,e.fromIndex,e.toIndex,e.childId;return{type:"MOVE_CHILD_CELL",payload:arguments[0]}}function B(e){e.show;return{type:"SHOW_SCAFFOLDING",payload:arguments[0]}}var F=n(64),G=n.n(F),$=n(28),J=Object($.a)(),W="".concat("http://142.93.76.166","/api"),K="xavierunderstandstoken",z=function(){var e=localStorage.getItem("xavierunderstandsview");return e?JSON.parse(e):null};G.a.interceptors.response.use((function(e){return e}),(function(e){throw console.log("intercepted error: "+e.response.data),Error(e.response.data)})),G.a.interceptors.request.use((function(e){var t=function(){var e=localStorage.getItem(K);return e||""}();return e.headers.Authorization=t,e})),G.a.defaults.withCredentials=!0;var U=G.a,X=n(51),q=n.n(X),Q=function(e){var t=e.cellId,n=e.count;return"".concat(t,"_").concat(n)},Y=function(e){return e.replace(/_[0-9]+$/,"")},Z=function(e){le.dispatch(B({show:!0}))},ee=function(e){le.dispatch(B({show:!1}))},te=[function(e){return function(e){return function(t){"FETCH_CELLS"===t.type?U.get("".concat(W,"/cells"),{params:{ids:t.payload.cellIds}}).then((function(e){return e.data})).then((function(t){var n=ne(t);e(_({cells:n}))})).catch((function(e){console.log(e)})):e(t)}}},function(e){return function(t){return function(){var n=Object(k.a)(j.a.mark((function n(r){var a,i,o,c,l;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("FETCH_CHILD_CELLS"!==r.type){n.next=18;break}return n.prev=1,a=e.getState().view.cells,i=a[r.payload.cellId].children,(o=re(i)).push(r.payload.cellId),n.next=8,U.get("".concat(W,"/cells"),{params:{ids:o}}).then((function(e){return e.data}));case 8:c=n.sent,l=ne(c),t(_({cells:l})),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),console.log(n.t0);case 16:n.next=19;break;case 18:t(r);case 19:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(n){if("SET_CELL_CHILDREN"===n.type){var r=n.payload,a=r.parentId,i=r.newChildren;try{var o=e.getState().view.cells[a].children;q.a.notDeepEqual(o,i),t(n)}catch(c){}}else t(n)}}},function(e){return function(t){return function(){var n=Object(k.a)(j.a.mark((function n(r){var a,i,o,c,l,s,u,d,p,h;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("FETCH_CHILD_CELLS_TOGGLE_EXPAND"!==r.type){n.next=23;break}if(a=r.payload,i=a.view,o=a.viewPath,c=a.cellId,l=a.cellVid,!a.isExpanded){n.next=6;break}t(S({view:i,viewPath:o,cellVid:l})),n.next=21;break;case 6:return n.prev=6,s=e.getState().view.cells,u=s[c].children,(d=re(u)).push(c),n.next=13,U.get("".concat(W,"/cells"),{params:{ids:d}}).then((function(e){return e.data}));case 13:p=n.sent,h=ne(p),t(R({view:i,viewPath:o,cellVid:l,newCells:h})),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(6),console.log(n.t0);case 21:n.next=24;break;case 23:t(r);case 24:case"end":return n.stop()}}),n,null,[[6,18]])})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(k.a)(j.a.mark((function n(r){var a,i,o,c,l,s,u,d;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("PATCH_CONTENT_TOGGLE_EDIT"!==r.type){n.next=27;break}if(o=r.payload,c=o.view,l=o.viewPath,s=o.cellVid,u=o.cellId,!(null===(a=c.tabsView[c.currTabId])||void 0===a||null===(i=a[s])||void 0===i?void 0:i.isEditing)){n.next=16;break}return d=e.getState().view.cells[u].content,n.prev=5,n.next=8,U.patch("".concat(W,"/cell-content"),{id:u,content:d});case 8:t(A({view:c,viewPath:l,cellVid:s,cellId:u,content:d})),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(5),console.log(n.t0);case 14:n.next=25;break;case 16:return n.prev=16,n.next=19,U.get("".concat(W,"/is-auth"));case 19:t(L({view:c,viewPath:l,cellVid:s})),n.next=25;break;case 22:n.prev=22,n.t1=n.catch(16),console.log(n.t1);case 25:n.next=28;break;case 27:t(r);case 28:case"end":return n.stop()}}),n,null,[[5,11],[16,22]])})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(k.a)(j.a.mark((function n(r){var a,i,o,c,l,s,d,p,h,f,v,b,w,m,g;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("POST_NEW_CHILD_CELL_EXPAND"!==r.type){n.next=26;break}return a=r.payload,i=a.view,o=a.viewPath,c=a.parentId,l=a.parentVid,s=a.insertIndex,d=void 0===s?0:s,n.prev=2,p={},h=e.getState().view.cells,f=h[c].children,(v=re(f)).push(c),n.next=10,U.get("".concat(W,"/cells"),{params:{ids:v}}).then((function(e){return e.data}));case 10:return b=n.sent,p=ne(b),n.next=14,U.post("".concat(W,"/new-cell"),{parentId:c,index:d}).then((function(e){return e.data}));case 14:w=n.sent,m=w.newId,g=w.newCell,p[m]=Object(u.a)(Object(u.a)({},g),{},{id:g._id}),t(P({view:i,viewPath:o,parentId:c,parentVid:l,newId:m,insertIndex:d,childCells:p})),n.next=24;break;case 21:n.prev=21,n.t0=n.catch(2),console.log(n.t0);case 24:n.next=27;break;case 26:t(r);case 27:case"end":return n.stop()}}),n,null,[[2,21]])})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(k.a)(j.a.mark((function n(r){var a,i,o,c,l,s;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("DELETE_CHILD"!==r.type){n.next=16;break}return a=r.payload,i=a.parentId,o=a.childIndex,c=a.focusNextCell,n.prev=2,l=e.getState().view.cells,s=l[i].children[o].id,n.next=7,U.delete("".concat(W,"/link"),{data:{parentId:i,childId:s}});case 7:t(r),c(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(2),console.log(n.t0);case 14:n.next=17;break;case 16:t(r);case 17:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(k.a)(j.a.mark((function n(r){var a,i,o,c,s,p,h,f,v,b,w,m;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("LOCAL_STORAGE_INIT"!==r.type){n.next=33;break}if(n.prev=1,!(a=z())){n.next=20;break}return i=ae(a),o=Object.keys(i),n.next=8,U.get("".concat(W,"/cells"),{params:{ids:o}}).then((function(e){return e.data}));case 8:for(p in c=n.sent,s=ne(c),o=[],i)i[p]&&s[p]&&(h=o).push.apply(h,Object(l.a)(re(s[p].children)));return n.next=14,U.get("".concat(W,"/cells"),{params:{ids:o}}).then((function(e){return e.data}));case 14:for(c=n.sent,f=0;f<c.length;f++)s[c[f]._id]=c[f];v=ie(a,s),t(N({store:{viewTree:v,cells:s}})),n.next=26;break;case 20:return b=e.getState().user.email,n.next=23,U.get("".concat(W,"/user"),{params:{email:b}}).then((function(e){return e.data}));case 23:w=n.sent,m={cells:Object(d.a)({},w._id,Object(u.a)(Object(u.a)({},w),{},{id:w._id})),viewTree:{id:"1",currTabId:w._id,tabs:[{id:w._id}],tabsView:Object(d.a)({},w._id,{}),children:[]}},t(N({store:m}));case 26:n.next=31;break;case 28:n.prev=28,n.t0=n.catch(1),console.log(n.t0);case 31:n.next=34;break;case 33:t(r);case 34:case"end":return n.stop()}}),n,null,[[1,28]])})));return function(e){return n.apply(this,arguments)}}()}},function(e){return function(t){return function(){var n=Object(k.a)(j.a.mark((function n(r){var a,i,o,c,l,s,u;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("DRAG_AND_DROP_CELL_EFFECT"!==r.type){n.next=20;break}if(a=r.payload,i=a.oldParentId,o=a.newParentId,c=a.childOldIndex,l=a.childNewIndex,n.prev=2,s=e.getState().view.cells,u=s[o].children[l].id,i!==o){n.next=10;break}return n.next=8,U.patch("".concat(W,"/relink-cell"),{oldParentId:i,newParentId:o,childId:u,index:l});case 8:n.next=12;break;case 10:return n.next=12,U.patch("".concat(W,"/link-cell"),{parentId:o,childId:u,index:l});case 12:n.next=18;break;case 14:n.prev=14,n.t0=n.catch(2),console.log(n.t0),t(i===o?H({toParentId:i,fromParentId:o,fromIndex:l,toIndex:c}):M({parentId:o,childIndex:l}));case 18:n.next=21;break;case 20:t(r);case 21:case"end":return n.stop()}}),n,null,[[2,14]])})));return function(e){return n.apply(this,arguments)}}()}}],ne=function(e){var t={};return e.forEach((function(e){t[e._id]=Object(u.a)(Object(u.a)({},e),{},{id:e._id})})),t},re=function(e){return e.reduce((function(e,t){return e.push(t.id),e}),[])},ae=function e(t){for(var n={},r=0;r<t.tabs.length;r++)n[t.tabs[r].id]=!0;if(t.tabsView)for(var a in t.tabsView)for(var i in n[a]=!0,t.tabsView[a]){var o=i.replace(/_[0-9]+$/,"");n[o]||(n[o]=t.tabsView[a][i].isExpanded)}for(var c=0;c<t.children.length;c++){var l=e(t.children[c]);for(var s in l)n[s]||(n[s]=l[s])}return n},ie=function e(t,n){for(var r=[],a=0;a<t.tabs.length;a++)n[t.tabs[a].id]&&r.push(t.tabs[a]);var i={};for(var o in t.tabsView)if(n[o])for(var c in i[o]={},t.tabsView[o]){n[Y(c)]&&(i[o][c]=t.tabsView[o][c])}for(var l=[],s=0;s<t.children.length;s++)l.push(e(t.children[s],n));return Object(u.a)(Object(u.a)({},t),{},{tabs:r,tabsView:i,children:l})};function oe(e){e.email,e.password;return{type:"LOGIN",payload:arguments[0]}}var ce=[function(e){return function(e){return function(){var t=Object(k.a)(j.a.mark((function t(n){var r,a,i,o;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("LOGIN"!==n.type){t.next=16;break}return r=n.payload,a=r.email,i=r.password,t.prev=2,t.next=5,U.post("".concat(W,"/login"),{email:a,password:i}).then((function(e){return e.data}));case 5:o=t.sent,c=o,localStorage.setItem(K,c),J.push("/"),e(n),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0);case 14:t.next=17;break;case 16:e(n);case 17:case"end":return t.stop()}var c}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()}},function(e){return function(e){return function(){var t=Object(k.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("LOGOUT"===n.type)try{localStorage.removeItem(K),e(n)}catch(r){console.log(r)}else e(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},function(e){return function(e){return function(){var t=Object(k.a)(j.a.mark((function t(n){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("UPDATE_AUTH_STATUS"!==n.type){t.next=13;break}return t.prev=1,t.next=4,U.get("".concat(W,"/is-auth"));case 4:e(oe({})),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),e({type:"LOGOUT"}),console.log(t.t0);case 11:t.next=14;break;case 13:e(n);case 14:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}()}}],le=Object(s.d)(O,s.a.apply(void 0,Object(l.a)(te).concat(Object(l.a)(ce)))),se=n(10),ue=n(11),de=n(13),pe=n(12),he=n(19),fe=n(32),ve=n(681),be=n(146),we=n.n(be),me=n(76);n(205);var ge=Object(c.b)((function(e){return{loggedIn:e.user.loggedIn}}),null)((function(e){var t=e.loggedIn;return a.a.createElement("div",{className:"app-bar"},a.a.createElement(ve.a,{edge:"start",onClick:function(){e.setNavMenuOpen(!e.navMenuOpen)}},a.a.createElement(we.a,null)),t?a.a.createElement(me.a,{className:"auth-link",to:"/login",onClick:function(){le.dispatch({type:"LOGOUT"})}},"Log Out"):a.a.createElement(a.a.Fragment,null,a.a.createElement(me.a,{className:"auth-link",to:"/login"},"Login")))})),ye=n(684),Ce=n(147),xe=n.n(Ce),Ee=n(685),Ie=n(4),Oe=Object(ye.a)((function(){return{navPane:{display:"flex",flexFlow:"column",height:"inherit",overflowY:"scroll",overflowX:"auto",backgroundColor:"white",transition:"flex 0.3s ease-out",flex:0},drawer:{border:"1px solid blue"},drawerExpanded:{flexBasis:"250px"},drawerPaper:{display:"flex",overflowY:"scroll",overflowX:"auto",border:"1px solid red",position:"static"},drawerHeader:{display:"flex",alignItems:"center",justifyContent:"flex-end"}}}));function Te(e){var t=Oe();return a.a.createElement("div",{className:Object(Ie.a)(t.navPane,e.navMenuOpen&&t.drawerExpanded)},a.a.createElement("div",{className:t.drawerHeader},a.a.createElement(ve.a,{onClick:function(){e.setNavMenuOpen(!1)}},a.a.createElement(xe.a,null))),a.a.createElement(Ee.a,null))}var je=n(77),ke=(n(207),function(e){Object(de.a)(n,e);var t=Object(pe.a)(n);function n(e){var r;return Object(se.a)(this,n),(r=t.call(this,e)).countCellId=function(e){var t=r.cellIdCount[e];return t=t?t+1:1,r.cellIdCount[e]=t,t},r.getCellIdCount=function(e){var t=r.cellIdCount[e];return t?t+1:1},r.handleSort=function(e){if(e.srcElement===e.from){var t=e.from.getAttribute("class").split(/\s*/)[0];e.to.getAttribute("class").match(t)&&r.props.dragAndDropCellEffect({oldParentId:Y(e.from.id),newParentId:Y(e.to.id),childOldIndex:e.oldIndex,childNewIndex:e.newIndex})}},r.cellIndex=0,r.cellIdCount={},r}return Object(ue.a)(n,[{key:"componentDidUpdate",value:function(){this.cellIndex=0,this.cellIdCount={}}},{key:"render",value:function(){var e=this;return a.a.createElement(Pe,{isRoot:!0,cellId:this.props.view.currTabId,renderCell:this.props.renderCell,view:this.props.view,cells:this.props.cells,showScaffolding:this.props.showScaffolding,setCellChildren:this.props.setCellChildren,countCell:function(){return e.cellIndex++},countCellId:this.countCellId,handleSort:this.handleSort,articlePxWidth:this.props.articlePxWidth})}}]),n}(a.a.Component));function Pe(e){var t,n,r,i=e.isRoot,o=e.cellId,c=e.renderCell,l=e.view,s=e.cells,u=e.setCellChildren,d=e.countCell,p=e.countCellId,h=e.handleSort,f=e.showScaffolding,v=e.articlePxWidth,b=(null===(t=s[o])||void 0===t?void 0:t.children)||[],w=Q({cellId:o,count:p(o)}),m=null===(n=l.tabsView[l.currTabId])||void 0===n||null===(r=n[w])||void 0===r?void 0:r.isExpanded,g=0===b.length;return a.a.createElement("div",{className:"cell-tree",cellid:o,cellvid:w},!i&&c({cellId:o,cellVid:w,cellIndex:d()}),(m||i)&&a.a.createElement(je.a,{className:Object(Ie.a)("cell-list",g&&"empty-article",i&&"root-list"),group:{name:"cells",put:function(e,t,n){for(var r=le.getState().view.cells[e.options.cellId].children,a=n.getAttribute("cellid"),i=0;i<r.length;i++)if(r[i].id===a)return!1;return!0},pull:function(e,t,n){return e.options.cellId===t.options.cellId||"clone"}},list:b,setList:function(t){u({parentId:e.cellId,newChildren:t})},style:{width:"".concat(g?v:"fit-content"),border:"".concat(f||m&&g?"1px dashed white":"none")},viewId:l.id,cellId:o,id:w,handle:".cell-handle",onSort:h,onStart:Z,onEnd:ee},b.map((function(t,n){return a.a.createElement(Pe,{key:t.id,cellId:t.id,renderCell:e.renderCell,view:e.view,cells:s,setCellChildren:u,showScaffolding:f,countCell:d,countCellId:p,handleSort:h,articlePxWidth:v})}))))}Pe.defaultProps={isRoot:!1,cellIndex:-1};var _e=Object(c.b)((function(e){return{cells:e.view.cells,showScaffolding:e.view.showScaffolding}}),{setCellChildren:function(e){return e.parentId,e.newChildren,{type:"SET_CELL_CHILDREN",payload:arguments[0]}},dragAndDropCellEffect:function(e){return e.oldParentId,e.newParentId,e.childOldIndex,e.childNewIndex,{type:"DRAG_AND_DROP_CELL_EFFECT",payload:arguments[0]}}})(ke),Se=(n(208),n(116),n(686)),Le=n(687),De=n(688),Ne=n(689);var Ve=Object(c.b)(null,{fetchChildCellsToggleExpand:V})((function(e){var t=e.view,n=e.viewPath,r=e.cellData,i=e.fetchChildCellsToggleExpand;return a.a.createElement("div",{className:"cell-handle",onClick:function(e){i({view:t,viewPath:n,cellId:r.cellId,cellVid:r.cellVid,isExpanded:r.isExpanded})}},r.children.length>0&&(r.isEditing?r.isExpanded?a.a.createElement(Se.a,{fontSize:"small",style:{color:"white",width:"0.9em"}}):a.a.createElement(Le.a,{fontSize:"small",style:{color:"white",width:"0.9em"}}):r.isExpanded?a.a.createElement(De.a,{style:{color:"white",width:"0.9em"}}):a.a.createElement(Ne.a,{style:{color:"white",width:"0.9em"}})),r.isExpanded&&0===r.children.length&&(r.isEditing?a.a.createElement(Se.a,{fontSize:"small",style:{color:"white",width:"0.9em"}}):a.a.createElement(De.a,{style:{color:"white",width:"0.9em"}})))})),Re={},Ae=null,Me=function(e){Object(de.a)(n,e);var t=Object(pe.a)(n);function n(e){var r;return Object(se.a)(this,n),(r=t.call(this,e)).getRefKey=function(e){var t=r.props.view.id,n=r.props.view.currTabId;return"".concat(t,"_").concat(n,"_").concat(e)},r.onKeyDown=function(e){var t=r.props,n=t.view,a=t.viewPath,i=t.cellData,o=i.cellId,c=i.cellVid,l=i.cellIndex;if(e.key.match(/^[jJ]$/))e.stopPropagation(),r.getIsCellBottomHidden()&&"j"===e.key?r.props.articleRef.scroll({top:r.props.articleRef.scrollTop+50,left:r.props.articleRef.scrollLeft,behavior:"smooth"}):r.focusNextCell(!0);else if(e.key.match(/^[kK]$/))e.stopPropagation(),r.getIsCellTopHidden()&&"k"===e.key?r.props.articleRef.scroll({top:r.props.articleRef.scrollTop-50,left:r.props.articleRef.scrollLeft,behavior:"smooth"}):r.focusNextCell(!1);else if("i"===e.key||e.shiftKey&&"Enter"===e.key)r.props.patchContentToggleEdit({view:n,viewPath:a,cellVid:c,cellId:o}),r.contentRef.focus({preventScroll:!0});else if("Enter"===e.key)r.props.fetchChildCellsToggleExpand({view:n,viewPath:a,cellId:o,cellVid:c,isExpanded:r.getIsExpanded(c)});else if("a"===e.key||"A"===e.key){var s=r.props.cells[o].children.length;r.props.postNewChildCellExpand({view:n,viewPath:a,parentId:o,parentVid:c,insertIndex:"a"===e.key?0:s}),Ae="a"===e.key?l+1:l+s+1}else if("o"===e.key||"O"===e.key){var u=r.getParentCellData(),d=u.childIndex,p=u.parentId,h=u.parentVid;r.props.postNewChildCellExpand({view:n,viewPath:a,parentId:p,parentVid:h,insertIndex:"o"===e.key?d+1:d}),Ae="o"===e.key?l+1:l}else if("D"===e.key){var f=r.getParentCellData(),v=f.childIndex,b=f.parentId;r.props.deleteChild({parentId:b,childIndex:v,focusNextCell:function(){r.focusNextCell(0===l)}})}},r.getArticlePxWidth=function(){return r.props.articleRef?"".concat(r.props.articleRef.clientWidth,"px"):"0px"},r.getIsCellTopHidden=function(){return r.wrapperRef.offsetTop<r.props.articleRef.scrollTop},r.getIsCellBottomHidden=function(){return r.wrapperRef.offsetTop+r.wrapperRef.offsetHeight>(r.props.articleRef?r.props.articleRef.scrollTop+r.props.articleRef.offsetHeight:0)},r.getParentCellData=function(){for(var e=r.wrapperRef,t=r.props.cellData.cellId;"cell-tree"!==e.className||e.getAttribute("cellid")===t;)e=e.parentNode;for(var n=e.getAttribute("cellid"),a=0,i=r.props.cells[n].children;a<i.length&&i[a].id!==t;a++);return{parentId:n,childIndex:a,parentVid:e.getAttribute("cellvid")}},r.focusNextCell=function(e){var t=function e(t){var n=t.cellId,r=t.cells,a=t.getIsExpanded,i=t.idCount,o=void 0===i?{}:i,c=t.isRoot,s=void 0===c||c,u=o[n];u=Boolean(u)?u+1:1,o[n]=u;var d=Q({cellId:n,count:u}),p=s?[]:[d];if(s||a(d))for(var h=r[n].children,f=0;f<h.length;f++)p.push.apply(p,Object(l.a)(e({cellId:h[f].id,cells:r,getIsExpanded:a,idCount:o,isRoot:!1})));return p}({cellId:r.props.view.currTabId,cells:r.props.cells,getIsExpanded:r.getIsExpanded}),n=r.props.cellData.cellIndex,a=e?n+1:n-1;(a<0||a>=t.length)&&(a=e?0:t.length-1);var i=r.getRefKey(t[a]);document.getElementById(i).focus()},r.getIsExpanded=function(e){var t,n,a=r.props.view;return Boolean(null===(t=a.tabsView[a.currTabId])||void 0===t||null===(n=t[e])||void 0===n?void 0:n.isExpanded)},r.onContentRef=function(e){e&&(r.contentRef=e,Re[r.myRefKey]=e)},r.onFocusContent=function(){r.setState({isFocused:!0}),r.scrollContentIntoView()},r.scrollContentIntoView=function(){var e,t="center";r.wrapperRef.clientHeight>(null===(e=r.props.articleRef)||void 0===e?void 0:e.clientHeight)&&(t="start"),r.wrapperRef&&r.wrapperRef.scrollIntoView({behavior:"smooth",block:t,inline:"center"})},r.getContentClassname=function(){return r.state.isFocused?"content-wrapper-focused":"content-wrapper"},r.state={isFocused:!1},r.contentRef=null,r.myRefKey=r.getRefKey(r.props.cellData.cellVid),r}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){this.scrollContentIntoView(),this.props.cellData.cellIndex===Ae&&(this.contentRef.focus({preventScroll:!0}),Ae=null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.view,r=t.viewPath,i=t.cellData;return a.a.createElement("div",{ref:function(t){e.wrapperRef=t},className:"cell-wrapper",style:{width:this.getArticlePxWidth()},onClick:function(){e.wrapperRef.focus({preventScroll:!0})}},a.a.createElement(Ve,{view:n,viewPath:r,cellData:i}),a.a.createElement("div",{tabIndex:-1,onBlur:function(){e.setState({isFocused:!1})},ref:this.onContentRef,className:this.getContentClassname(),onKeyDown:this.onKeyDown,id:this.getRefKey(i.cellVid),onFocus:this.onFocusContent},this.props.children))}}]),n}(a.a.Component),He=Object(c.b)((function(e){return{cells:e.view.cells}}),{toggleCellEdit:L,fetchChildCellsToggleExpand:V,patchContentToggleEdit:A,postNewChildCellExpand:function(e){return e.view,e.viewPath,e.parentId,e.parentVid,e.insertIndex,{type:"POST_NEW_CHILD_CELL_EXPAND",payload:arguments[0]}},deleteChild:M})(Me),Be=(n(41),n(149)),Fe=(n(209),n(210),n(212),n(213),n(150)),Ge=n.n(Fe),$e=n(3),Je=n.n($e),We=[],Ke=[],ze=!1;var Ue=function(e,t,n){We.push(t),Ke.push(n),ze||(ze=!0,function(e){e.Hub.Queue((function(){var t=e.Hub.elementScripts;e.Hub.elementScripts=function(e){return We};try{return e.Hub.Reprocess(null,(function(){Ke.forEach((function(e){e()})),We=[],Ke=[],ze=!1}))}catch(n){throw n}finally{e.Hub.elementScripts=t}}))}(e))},Xe={ascii:"asciimath",tex:"tex"},qe=function(e){Object(de.a)(n,e);var t=Object(pe.a)(n);function n(){return Object(se.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){this.typeset()}},{key:"componentDidUpdate",value:function(e){var t=e.children!==this.props.children||e.inline!==this.props.inline;this.typeset(t)}},{key:"shouldComponentUpdate",value:function(e,t,n){return e.children!==this.props.children||e.inline!==this.props.inline}},{key:"componentWillUnmount",value:function(){this.clear()}},{key:"clear",value:function(){var e=this.context.MathJax;if(this.script){var t=e.Hub.getJaxFor(this.script);t&&t.Remove()}}},{key:"typeset",value:function(e){var t=this.context.MathJax;if(!t)throw Error("Could not find MathJax while attempting typeset! Probably MathJax script hasn't been loaded or MathJax.Context is not in the hierarchy");var n=this.props.children;e&&this.clear(),!e&&this.script||this.setScriptText(n),t.Hub.Queue(t.Hub.Reprocess(this.script,this.props.onRender)),Ue(t,this.script,this.props.onRender)}},{key:"setScriptText",value:function(e){var t=this.props.inline,n=Xe[this.context.input];this.script||(this.script=document.createElement("script"),this.script.type="math/".concat(n,"; ").concat(t?"":"mode=display"),this.refs.node.appendChild(this.script)),"text"in this.script?this.script.text=e:this.script.textContent=e}},{key:"render",value:function(){return a.a.createElement("span",{ref:"node"})}}]),n}(a.a.Component);qe.contextTypes={MathJax:Je.a.object,input:Je.a.string},qe.defaultProps={inline:!1,onRender:function(){}};var Qe=qe,Ye=n(151),Ze=n.n(Ye),et=function(e){Object(de.a)(n,e);var t=Object(pe.a)(n);function n(e){var r;return Object(se.a)(this,n),(r=t.call(this,e)).onLoad=function(){var e=r.props.options;MathJax.Hub.Config(e),r.myHook=MathJax.Hub.Register.StartupHook("End",(function(){r.unmounted||(MathJax.Hub.processSectionDelay=r.props.delay,r.props.didFinishTypeset&&r.props.didFinishTypeset(),r.props.onLoad&&r.props.onLoad(),r.props.hubFn&&r.props.hubFn(MathJax.Hub),r.setState({loaded:!0}))})),MathJax.Hub.Register.MessageHook("Math Processing Error",(function(e){r.props.onError&&r.props.onError(MathJax,e)}))},r.state={loaded:!1},r.unmounted=!1,r}return Object(ue.a)(n,[{key:"getChildContext",value:function(){return{MathJax:"undefined"===typeof MathJax?void 0:MathJax,input:this.props.input}}},{key:"componentDidMount",value:function(){var e=this.props.script;if(!e)return console.log("script not defined"),this.onLoad();Ze()(e,this.onLoad)}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){return this.state.loaded||this.props.noGate?a.a.Children.only(this.props.children):this.props.loading}}]),n}(a.a.Component);et.childContextTypes={MathJax:Je.a.object,input:Je.a.string},et.defaultProps={script:"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML",input:"ascii",delay:0,options:{},loading:null,noGate:!1};var tt=et,nt=function(e){Object(de.a)(n,e);var t=Object(pe.a)(n);function n(){return Object(se.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){this.refreshMathJax()}},{key:"componentDidUpdate",value:function(){this.refreshMathJax()}},{key:"refreshMathJax",value:function(){var e=this.context.MathJax;if(!e)throw Error("Could not find MathJax while attempting typeset! Probably MathJax script hasn't been loaded or MathJax.Context is not in the hierarchy");e.Hub.Queue(e.Hub.Typeset(this.div,this.props.onRender))}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{key:this.props.text,ref:function(t){return e.div=t}},this.props.text)}}]),n}(a.a.Component);nt.contextTypes={MathJax:Je.a.object};var rt={Node:Qe,Context:tt,Text:nt},at=n(152),it=n.n(at),ot=n(153),ct=n.n(ot),lt=n(696),st=n(154),ut=function(e){Object(de.a)(n,e);var t=Object(pe.a)(n);function n(){return Object(se.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"render",value:function(){var e=this.props,t=e.language,n=e.value,r=st.vs2015;return"text"===t&&(r=void 0),a.a.createElement(lt.a,{language:t,style:r},n)}}]),n}(r.PureComponent);ut.defaultProps={value:""};var dt=function(e){Object(de.a)(n,e);var t=Object(pe.a)(n);function n(){return Object(se.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"render",value:function(){var e=Object(u.a)(Object(u.a)({},this.props),{},{plugins:[it.a,ct.a],renderers:Object(u.a)(Object(u.a)({},this.props.renderers),{},{math:function(e){return a.a.createElement(rt.Node,null,e.value)},inlineMath:function(e){return a.a.createElement(rt.Node,{inline:!0},e.value)},code:ut})});return a.a.createElement("div",{className:"markdown-body",style:this.props.style},a.a.createElement(rt.Context,{input:"tex",options:{asciimath2jax:{useMathMLspacing:!0,delimiters:[["$","$"]],preview:"none"}}},a.a.createElement(Ge.a,e)))}}]),n}(a.a.PureComponent),pt=(n(628),n(629),function(e){Object(de.a)(n,e);var t=Object(pe.a)(n);function n(e){var r;Object(se.a)(this,n),(r=t.call(this,e)).updateCode=function(e,t,n){r.setState({code:n})};var a=e.initialCode?e.initialCode:"";return r.state={code:a},r.options={lineNumbers:r.props.lineNumbers,mode:"markdown",extraKeys:{"Ctrl-Space":"autocomplete"},lineWrapping:r.props.lineWrapping,smartIndent:!1},r}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.editor.focus()}),0),this.props.getEditor(this.editor),this.refs.wrap.scrollIntoView({behavior:"smooth",block:"end"})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",Object.assign({ref:"wrap",style:Object(u.a)(Object(u.a)({},this.props.editorStyle),{},{scrollBehavior:"smooth"})},this.props.wrapperProps),a.a.createElement(Be.Controlled,{ref:function(t){return e.cm=t},editorDidMount:function(t){e.editor=t},value:this.state.code,onBeforeChange:this.updateCode,onChange:function(t,n,r){return e.props.onContentChange(r)},options:this.options,onFocus:function(e,t){t.preventDefault()}}),this.props.preview&&a.a.createElement("div",{style:{backgroundColor:"transparent"}},a.a.createElement(dt,{source:this.state.code,style:this.props.renderStyle})))}}]),n}(a.a.Component));pt.defaultProps={lineNumbers:!0,lineWrapping:!0,renderStyle:{},getEditor:function(e){},onFocus:function(){},onContentChange:function(){},preview:!0};var ht=pt;var ft=Object(c.b)((function(e){return{cells:e.cells}}),{setCellContent:function(e){return e.cellId,e.content,{type:"SET_CELL_CONTENT",payload:arguments[0]}}})((function(e){var t=Object(u.a)({content:"*fetching content...*"},e.cellData);return a.a.createElement(a.a.Fragment,null,t.isEditing?a.a.createElement(ht,{initialCode:t.content,renderStyle:{padding:"0 0.5em 0 0.5em"},onContentChange:function(n){!function(n){e.setCellContent({cellId:t.cellId,content:n})}(n)},wrapperProps:{onKeyDown:function(e){!function(e){e.shiftKey&&"Enter"===e.key||e.stopPropagation()}(e)}}}):a.a.createElement(dt,{source:t.content}))})),vt=n(166),bt=function(e){Object(de.a)(n,e);var t=Object(pe.a)(n);function n(e){var r;return Object(se.a)(this,n),(r=t.call(this,e)).renderCell=function(e){var t,n=e.cellId,i=e.cellVid,o=e.cellIndex,c=Object(u.a)(Object(u.a)(Object(u.a)({cellId:n,cellVid:i,children:[]},r.props.cells[n]),null===(t=r.props.view.tabsView[r.props.view.currTabId])||void 0===t?void 0:t[i]),{},{cellIndex:o});return a.a.createElement(He,{view:r.props.view,viewPath:r.props.viewPath,cellData:c,articleRef:r.articleRef},a.a.createElement(ft,{view:r.props.view,viewPath:r.props.viewPath,cellData:c}))},r.getArticlePxWidth=function(){return r.articleRef?"".concat(r.articleRef.clientWidth,"px"):"0px"},r.onKeyDown=function(e){if(e.key.match(/^[jJ]$/)){var t;e.preventDefault();for(var n=r.articleRef;n&&!n.className.match(/^cell-wrapper/);)n=n.firstChild;var a=null===(t=n)||void 0===t?void 0:t.children[1];a&&a.focus()}else if(e.key.match(/^[kK]$/)){var i;e.preventDefault();for(var o=r.articleRef;o&&!o.className.match(/^cell-list/);)o=o.children[0];for(;o&&!o.className.match(/^cell-wrapper/);)o=o.lastChild;var c=null===(i=o)||void 0===i?void 0:i.children[1];c&&c.focus()}},r.state={resized:!1},r.myrefs={},e.fetchChildCells({cellId:e.view.currTabId}),r}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){this.articleRef.focus()}},{key:"componentDidUpdate",value:function(e){var t=this.props.view.currTabId;t!==e.view.currTabId&&this.props.fetchChildCells({cellId:t})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{tabIndex:-1,className:"article-plane",ref:function(t){e.articleRef=t},onClick:this.onBackgroundClick,onKeyDown:this.onKeyDown},a.a.createElement(_e,{view:this.props.view,renderCell:this.renderCell,articlePxWidth:this.getArticlePxWidth()}),a.a.createElement(vt.a,{handleWidth:!0,handleHeight:!0,onResize:function(){e.setState({resized:!e.state.resized})}}))}}]),n}(a.a.Component),wt=Object(c.b)((function(e){return{cells:e.view.cells,viewTree:e.view.viewTree}}),{fetchChildCells:function(e){return e.cellId,{type:"FETCH_CHILD_CELLS",payload:arguments[0]}}})(bt),mt=(n(630),n(160)),gt=n.n(mt),yt=n(161),Ct=n.n(yt),xt=n(159),Et=n(6),It=n(165),Ot=n(698),Tt=n(690),jt=n(691),kt=n(692),Pt=n(693),_t=Object(Et.a)({paper:{zIndex:"1"},list:{display:"flex",padding:0}})(It.a),St=function(e){Object(de.a)(n,e);var t=Object(pe.a)(n);function n(e){var r;return Object(se.a)(this,n),(r=t.call(this,e)).handleMoreBtnClick=function(e){r.setState({menuAnchor:e.currentTarget.parentNode})},r.onMenuClose=function(){r.setState({menuAnchor:null})},r.onSplitView=function(e){r.onMenuClose(),r.props.splitView({view:r.props.view,viewPath:r.props.viewPath,direction:e})},r.onDeleteView=function(){r.onMenuClose(),r.props.deleteView({viewPath:r.props.viewPath})},r.state={menuAnchor:null,deleteMode:!1},r}return Object(ue.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"more-btn",onClick:function(t){e.handleMoreBtnClick(t)}},a.a.createElement(Tt.a,{fontSize:"small"})),a.a.createElement(_t,{anchorEl:this.state.menuAnchor,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onClose:this.onMenuClose,getContentAnchorEl:null,open:Boolean(this.state.menuAnchor)},a.a.createElement(Ot.a,{onClick:function(){e.onSplitView("row")}},a.a.createElement(jt.a,null)),a.a.createElement(Ot.a,{onClick:function(){e.onSplitView("column")}},a.a.createElement(kt.a,null)),this.props.viewPath.length>0&&a.a.createElement(Ot.a,{onClick:this.onDeleteView},a.a.createElement(Pt.a,null))))}}]),n}(a.a.Component),Lt=Object(c.b)((function(e){return{cells:e.cells}}),{splitView:D,deleteView:function(e){return e.viewPath,{type:"DELETE_VIEW",payload:arguments[0]}}})(St),Dt=function(e){Object(de.a)(n,e);var t=Object(pe.a)(n);function n(e){var r;return Object(se.a)(this,n),(r=t.call(this,e)).onChangeTab=function(e){r.props.view.currTabId!==e&&r.props.changeTab({viewPath:r.props.viewPath,tabId:e})},r.setTabRef=function(e,t){var n="tab".concat(t);void 0===r.myrefs[n]&&e&&(e.scrollIntoView(),r.myrefs[n]=e)},r.handleSort=function(e){if(e.pullMode)if(e.to===r.myrefs["sortable-tabs"]){var t=r.props.view.tabs[e.newIndex].id;r.onChangeTab(t)}else if(e.from===r.myrefs["sortable-tabs"])if(0===r.props.view.tabs.length)r.onChangeTab(0);else{var n=e.oldIndex===r.props.view.tabs.length?-1:0,a=r.props.view.tabs[e.oldIndex+n];r.onChangeTab(a.id)}},r.getTabKey=function(e){var t=r.tabIdCount[e];return t=Boolean(t)?t+1:1,r.tabIdCount[e]=t,"".concat(e,"_").concat(t)},r.onSetTabs=function(e){try{q.a.deepEqual(r.props.view.tabs,e)}catch(t){r.props.setTabs({viewPath:r.props.viewPath,newTabs:e})}},r.handleDataOnDrag=function(e,t){var n=t.getAttribute("id"),a=Object(d.a)({},n,r.props.view.tabsView[n]);Boolean(a[n])&&e.setData("tabView",JSON.stringify(a))},r.handleTabAdd=function(e){var t=e.originalEvent.dataTransfer.getData("tabView");if(Boolean(t)){var n=JSON.parse(t);r.props.setTabView({viewPath:r.props.viewPath,tabView:n})}},r.renderTabContent=function(e){var t,n=null===(t=r.props.cells[e.id])||void 0===t?void 0:t.content;return a.a.createElement("div",{style:{whiteSpace:"nowrap",minWidth:"100px"}},n)},r.onCloseTab=function(e,t,n){e.stopPropagation(),r.props.closeTab({view:r.props.view,viewPath:r.props.viewPath,tabId:t,tabIndex:n})},r.myrefs={},r.tabIdCount={},r}return Object(ue.a)(n,[{key:"render",value:function(){var e=this;return this.tabIdCount={},a.a.createElement("div",{className:"sortable-tabs-toolbar",onWheel:function(t){t.stopPropagation();var n=e.myrefs.scrollbar.getScrollLeft();return e.myrefs.scrollbar.scrollLeft(n+t.deltaY),!1}},a.a.createElement(xt.Scrollbars,{ref:function(t){e.myrefs.scrollbar=t},style:{height:"2.1em"},autoHide:!0},a.a.createElement(je.a,{ref:function(t){var n;e.myrefs["sortable-tabs"]=null===t||void 0===t||null===(n=t.ref)||void 0===n?void 0:n.current},list:this.props.view.tabs,setList:function(t){e.onSetTabs(t)},className:"sortable-tabs",onSort:function(t){e.handleSort(t)},setData:this.handleDataOnDrag,onAdd:this.handleTabAdd,group:{name:"tabs",put:["cells","tabs"],pull:function(e,t){return"cells"===e.options.group.name?"clone":"tabs"===e.options.group.name}}},this.props.view.tabs.map((function(t,n){var r=e.getTabKey(t.id),i=e.props.cells[t.id].email===e.props.email;return a.a.createElement("div",{ref:function(n){e.setTabRef(n,t.id)},key:r,id:t.id,className:Object(Ie.a)(t.id===e.props.view.currTabId?"sel-article-tab":"article-tab"),onClick:function(){e.onChangeTab(t.id),e.myrefs["tab".concat(t.id)].scrollIntoView()}},e.renderTabContent(t),!i&&a.a.createElement("div",{className:"close-tab-btn-wrapper"},a.a.createElement("div",{className:"close-tab-btn",onClick:function(r){e.onCloseTab(r,t.id,n)}},a.a.createElement(gt.a,{style:{fontSize:"14px",borderRadius:"10px"}}))))})))),a.a.createElement("div",{className:"add-tab-btn",onClick:function(){}},a.a.createElement(Ct.a,{fontSize:"small"})),a.a.createElement(Lt,{view:this.props.view,viewPath:this.props.viewPath}))}}]),n}(a.a.Component),Nt=Object(c.b)((function(e){return{cells:e.view.cells,email:e.user.email}}),{changeTab:function(e){return e.viewPath,e.tabId,{type:"CHANGE_TAB",payload:arguments[0]}},setTabs:function(e){return e.viewPath,e.newTabs,{type:"SET_TABS",payload:arguments[0]}},setTabView:function(e){return e.viewPath,e.tabView,{type:"SET_TAB_VIEW",payload:arguments[0]}},closeTab:function(e){return e.view,e.viewPath,e.tabId,e.tabIndex,{type:"CLOSE_TAB",payload:arguments[0]}}})(Dt),Vt=(n(646),function(e){Object(de.a)(n,e);var t=Object(pe.a)(n);function n(){return Object(se.a)(this,n),t.apply(this,arguments)}return Object(ue.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{key:this.props.view.id,className:"articles-viewer",style:{flexFlow:this.props.view.flexFlow}},this.props.view.children.length>0?this.props.view.children.map((function(t,n){return a.a.createElement(Rt,{key:t.id,view:t,viewPath:[].concat(Object(l.a)(e.props.viewPath),["children",n])})})):a.a.createElement("div",{key:this.props.view.id,className:"articles-viewer"},a.a.createElement(Nt,{view:this.props.view,viewPath:this.props.viewPath}),this.props.cells[this.props.view.currTabId]&&a.a.createElement(wt,{view:this.props.view,viewPath:this.props.viewPath})))}}]),n}(a.a.PureComponent));Vt.defaultProps={viewPath:[]};var Rt=Object(c.b)((function(e){return{cells:e.view.cells,viewTree:e.view.viewTree}}),{splitView:D})(Vt),At=Rt,Mt=(n(647),{spacing:function(e){return"".concat(8*e,"px")},borderRadius:"5px"}),Ht=Object(u.a)(Object(u.a)({},Mt),{},{textBackgroundColor:"white",textColor:"black",unfocusedTextColor:"rgba(0, 0, 0, 0.54)",unfocusedSmallTextColor:"rgba(0, 0, 0, 0.75)",unfocusedBackgroundColor:"#00000030",unfocusedBorderColor:"rgba(0, 0, 0, 0.4)",unfocusedInputBorderColor:"rgba(0, 0, 0, 0.23)",focusedBorderColor:"#da2e76",focusedColor:"#da2e76",headerBackground:"white",formBackground:"#272727ff",errorColor:"#f44336",dashboardBackground:"#f2f2f2",buttonBorderColor:"#222222",buttonFillColor:"white",primaryButtonFillColor:"#c31163",secondaryButtonFillColor:"#ed4956",maxFeedWidth:"800px"}),Bt=(Object(u.a)(Object(u.a)({},Mt),{},{textBackgroundColor:"black",textColor:"white",unfocusedTextColor:"grey",focusedBorderColor:"white",unfocusedInputBorderColor:"grey"}),Ht),Ft=n(80),Gt=n(37),$t=n(695);function Jt(){var e=Object(Gt.a)(["\n  && {\n    display: block;\n    margin-bottom: ",";\n  },\n  && input {\n    color: ",";\n  }\n  && .MuiFormLabel-root {\n    color: ",";\n  },\n  && .MuiOutlinedInput-root > fieldset {\n    border-color: ",";\n  }\n  && .Mui-focused > fieldset {\n    border-color: ",";\n  }\n  && .Mui-error > fieldset {\n    border-color: ",";\n  }\n"]);return Jt=function(){return e},e}var Wt=Object(fe.b)($t.a)(Jt(),(function(e){return e.theme.spacing(2)}),(function(e){return e.theme.textColor}),(function(e){return e.theme.unfocusedTextColor}),(function(e){return e.theme.unfocusedInputBorderColor}),(function(e){return e.theme.focusedBorderColor}),(function(e){return e.theme.errorColor})),Kt=n(694),zt=n(79);function Ut(){var e=Object(Gt.a)(["\n  z-index: 1300;\n  position: fixed;\n  top: 0;\n  left: 0;\n  overflow: auto;\n  display: flex;\n  flex-flow: column;\n  justify-content: flex-start;\n  align-items: center;\n  padding: "," 0;\n  background-color: #00000077;\n  width: 100vw;\n  height: 100vh;\n  box-sizing: border-box;\n"]);return Ut=function(){return e},e}function Xt(){var e=Object(Gt.a)(["\n  text-align: center;\n  padding: ",";\n  margin-bottom: ",";\n  width: 100%; \n  color: ",";\n  background-color: ",";\n  box-sizing: border-box;\n  border-radius: ",";\n  font-size: 15px;\n"]);return Xt=function(){return e},e}function qt(){var e=Object(Gt.a)(["\n  && {\n    background-color: ",";\n    color: white;\n    font-weight: bold;\n  },\n  &&:hover {\n    background-color: ",";\n  }\n"]);return qt=function(){return e},e}function Qt(){var e=Object(Gt.a)(["\n  font-size: 18px;\n  text-align: center;\n  color: ",";\n  font-weight: bold;\n  margin-bottom: ",";\n"]);return Qt=function(){return e},e}function Yt(){var e=Object(Gt.a)(["\n  font-size: 30px;\n  color: ",";\n  text-align: center;\n  margin-top: 0;\n"]);return Yt=function(){return e},e}function Zt(){var e=Object(Gt.a)(["\n  width: calc(100% - ",");\n  padding: ",";\n  max-width: 290px;\n  display: flex;\n  flex-flow: column;\n  justify-content: space-between;\n  box-sizing: border-box;\n  background-color: ",";\n  color: ",";\n  box-shadow: 3px 3px 10px 3px rgba(0,0,0,0.425);\n  border-radius: ",";\n"]);return Zt=function(){return e},e}function en(){var e=Object(Gt.a)(["\n  height: 100%;\n  width: 100%;\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return en=function(){return e},e}var tn=fe.b.div(en(),(function(e){return e.theme.formBackground})),nn=fe.b.form(Zt(),(function(e){return e.theme.spacing(5)}),(function(e){return e.theme.spacing(4)}),(function(e){return e.theme.textBackgroundColor}),(function(e){return e.theme.textColor}),(function(e){return e.theme.borderRadius})),rn=fe.b.h1(Yt(),(function(e){return e.theme.textColor})),an=(fe.b.div(Qt(),(function(e){return e.theme.unfocusedTextColor}),(function(e){return e.theme.spacing(2)})),Object(fe.b)(Kt.a)(qt(),(function(e){return e.theme.primaryButtonFillColor}),(function(e){return Object(zt.emphasize)(e.theme.primaryButtonFillColor)}))),on=fe.b.div(Xt(),(function(e){return e.theme.spacing(1)}),(function(e){return e.theme.spacing(2)}),(function(e){return Object(zt.darken)(e.theme.errorColor,.2)}),(function(e){return Object(zt.fade)(e.theme.errorColor,.2)}),(function(e){return e.theme.borderRadius}));fe.b.div(Ut(),(function(e){return e.theme.spacing(6)}));function cn(){var e=a.a.useState(""),t=Object(Ft.a)(e,2),n=t[0],r=t[1],i=a.a.useState(""),o=Object(Ft.a)(i,2),c=o[0],l=o[1],s=a.a.useState(""),u=Object(Ft.a)(s,2),d=u[0],p=u[1],h=function(){var e=Object(k.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),le.dispatch(oe({email:c,password:d}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(tn,null,a.a.createElement(nn,null,a.a.createElement(rn,null,"Log In"),a.a.createElement(Wt,{label:"Email",variant:"outlined",onChange:function(e){r(""),l(e.target.value)}}),a.a.createElement(Wt,{label:"Password",variant:"outlined",type:"password",onChange:function(e){r(""),p(e.target.value)}}),n&&a.a.createElement(on,null,n),a.a.createElement(an,{onClick:h},"Log In")))}var ln=function(e){Object(de.a)(n,e);var t=Object(pe.a)(n);function n(){var e;Object(se.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={navMenuOpen:!1,view:{id:"1",currTabId:0,tabs:[],tabsView:{},children:[]},articles:{}},e.setNavMenuOpen=function(t){var n="function"===typeof t?t(e.state.navMenuOpen):t;e.setState({navMenuOpen:n})},e}return Object(ue.a)(n,[{key:"componentDidMount",value:function(){le.dispatch({type:"LOCAL_STORAGE_INIT"}),le.dispatch({type:"UPDATE_AUTH_STATUS"}),J.listen((function(e){le.dispatch({type:"UPDATE_AUTH_STATUS"}),"/"===e.pathname&&le.dispatch({type:"LOCAL_STORAGE_INIT"})}))}},{key:"componentDidUpdate",value:function(e,t){try{q.a.deepStrictEqual(e.viewTree,this.props.viewTree)}catch(r){n=this.props.viewTree,localStorage.setItem("xavierunderstandsview",JSON.stringify(n))}var n}},{key:"render",value:function(){return a.a.createElement(he.b,{history:J},a.a.createElement(fe.a,{theme:Bt},a.a.createElement("div",{className:"view-port"},a.a.createElement(ge,{navMenuOpen:this.state.navMenuOpen,setNavMenuOpen:this.setNavMenuOpen}),a.a.createElement("div",{className:"not-header"},a.a.createElement(Te,{navMenuOpen:this.state.navMenuOpen,setNavMenuOpen:this.setNavMenuOpen}),a.a.createElement(he.c,null,a.a.createElement(he.a,{exact:!0,path:"/"},a.a.createElement(At,{view:this.props.viewTree})),a.a.createElement(he.a,{path:"/login",component:cn}))))))}}]),n}(a.a.Component),sn=Object(c.b)((function(e){return{cells:e.view.cells,viewTree:e.view.viewTree}}),null)(ln),un=(n(648),document.getElementById("root"));o.a.render(a.a.createElement(c.a,{store:le},a.a.createElement(sn,null)),un)}},[[175,1,2]]]);
//# sourceMappingURL=main.34e0c1dd.chunk.js.map